<div class="block-header">
    <h2>{{ config.year }} Membership Report</h2>
    <ul class="actions">
        <li *ngIf="report">
            <download-csv [csvData]="exportCsv()" [filename]="'CurrentSeasonExport.csv'"></download-csv>
        </li>
        <li>
            <a href="#">
                <i class="zmdi zmdi-print"></i>
            </a>
        </li>
    </ul>
</div>
<div class="row">
    <div class="col-md-12">
        <div class="card event-card">
            <div class="card-header">
                <h2>{{ config.year }} Membership</h2><i bhmc-spinner="members"></i>
            </div>
            <div class="card-body card-padding">
                <div class="table-responsive" *ngIf="report">
                    <table class="table table-striped table-condensed">
                        <thead>
                        <tr>
                            <th>GHIN</th>
                            <th>Last Name</th>
                            <th>First Name</th>
                            <th>Full Name</th>
                            <th>Email</th>
                            <th>Birth Date</th>
                            <th>Age</th>
                            <th class="text-center">Gold Tees</th>
                            <th>Signed Up Date</th>
                            <th class="text-center">New Member</th>
                            <th>Payment Code</th>
                            <th class="text-right">Signup Fee</th>
                            <th class="text-right">Patron Card</th>
                            <th class="text-right">Total Fees</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr *ngFor="let row of report">
                            <td>{{row.memberGhin}}</td>
                            <td>{{row.lastName}}</td>
                            <td>{{row.firstName}}</td>
                            <td>{{row.memberName}}</td>
                            <td>{{row.email}}</td>
                            <td>{{row.birthDate}}</td>
                            <td>{{row.age}}</td>
                            <td class="text-center">{{row.forwardTees ? 'X' : ''}}</td>
                            <td>{{row.reserved}}</td>
                            <td class="text-center">{{row.isNewMember ? 'X' : ''}}</td>
                            <td>{{row.paymentCode}}</td>
                            <td class="text-right">{{row.eventFee | currency:'USD':true}}</td>
                            <td class="text-right">{{row.greenFee | currency:'USD':true}}</td>
                            <td class="text-right">{{row.totalFees | currency:'USD':true}}</td>
                        </tr>
                        </tbody>
                        <tfoot *ngIf="summary">
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td class="text-right">Totals:</td>
                            <td class="text-right">{{summary.eventFees | currency:'USD':true}}</td>
                            <td class="text-right">{{summary.greenFees | currency:'USD':true}}</td>
                            <td class="text-right">{{summary.totalFees | currency:'USD':true}}</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td class="text-right">Counts:</td>
                            <td class="text-right">{{summary.eventCount}}</td>
                            <td class="text-right">{{summary.greenCount}}</td>
                            <td class="text-right">{{summary.eventCount}}</td>
                        </tr>
                        </tfoot>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
