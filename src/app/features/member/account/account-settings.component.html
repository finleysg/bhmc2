<div class="pmb-block">
    <div class="pmbb-header">
        <h2><i class="zmdi zmdi-comment-outline m-r-5"></i> Account Settings</h2>
    </div>
    <div class="pmbb-body p-l-30">
        <div class="pmbb-view">
            TODO: info about privacy
        </div>
    </div>
</div>
<div class="pmb-block">
    <div class="pmbb-header">
        <h2><i class="zmdi zmdi-account m-r-5"></i> Identity</h2>
        <ul class="actions">
            <li>
                <a class="clickable" (click)="editIdentity = true" title="Change your username or password" *ngIf="!editIdentity">
                    <i class="zmdi zmdi-edit"></i>
                </a>
            </li>
        </ul>
    </div>
    <div class="pmbb-body p-l-30">
        <div class="pmbb-view" *ngIf="!editIdentity">
            <dl class="dl-horizontal">
                <dt>User Name</dt>
                <dd>{{ user.username }}</dd>
            </dl>
            <dl class="dl-horizontal">
                <dt>Password</dt>
                <dd><button type="button" class="btn btn-link btn-sm password-change" (click)="changePassword()">Change Password</button></dd>
            </dl>
            <dl class="dl-horizontal">
                <dt>GHIN</dt>
                <dd>{{ user.member.ghin }}</dd>
            </dl>
        </div>

        <form role="form" #identity="ngForm" novalidate class="pmbb-edit" *ngIf="editIdentity">
            <dl class="dl-horizontal" [class.has-error]="username.touched && !username.valid">
                <dt class="p-t-10">User Name</dt>
                <dd>
                    <input [(ngModel)]="user.username" name="username" #username="ngModel" type="text" class="form-control" placeholder="e.g. A name used to log in" required>
                </dd>
            </dl>

            <div class="m-t-30">
                <button type="button" class="btn btn-primary btn-sm" [disabled]="!identity.valid" (click)="updateIdentity()">Save</button>
                <button type="reset" class="btn btn-link btn-sm" (click)="canceled()">Cancel</button>
            </div>
        </form>
    </div>
</div>
<div class="pmb-block">
    <div class="pmbb-header">
        <h2><i class="zmdi zmdi-money m-r-5"></i> Payment Information</h2>
        <ul class="actions">
            <li>
                <a class="clickable" (click)="openPaymentReport()" title="View your payment history">
                    <i class="zmdi zmdi-money-box"></i>
                </a>
            </li>
        </ul>
    </div>
    <div class="pmbb-body p-l-30">
        <div class="pmbb-view">
            <dl class="dl-horizontal">
                <dt>Credit Card Saved</dt>
                <dd>{{ savedCard.description }}</dd>
            </dl>
            <dl class="dl-horizontal">
                <dt>Card Expires</dt>
                <dd>{{ savedCard.expires }}</dd>
            </dl>
        </div>
    </div>
</div>
